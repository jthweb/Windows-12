[Metadata]
Author=Sahil / MaybeSahil / Runixe786
Name=Material you music
Description=Material You music widget for Windows
Tags=music ,windows ,android ,materialyou ,material


[Rainmeter]
BackgroundMode=1
Update=1
AntiAlias=1


[Variables]
@include=#@#MusicVariables.inc
Scale=1
VolumeStep=2 
MusicSet=0
LightControl=0
RedLightControl=0


[IncludePlayer]
@Include=#@#Players\WebNowPlaying.inc

[MeterialYou]
Measure=Plugin
Plugin=MeterialYou
DynamicVariables=1
 
[GetMusicPlayerState]
Measure=Plugin
Plugin=WebNowPlaying
PlayerName=#MusicPlayer#
PlayerType=STATE

[GetSongCover]
Measure=Plugin
Plugin=WebNowPlaying
PlayerName=[GetMusicPlayerState]
PlayerType=Cover

[MeasureRotate]
Measure=Calc
Formula=(GetMusicPlayerState = 1 ? (MeasureRotate % 200) + 1 : MeasureRotate)
MaxValue=200

[MeasureRotate2]
Measure=Calc
Formula=(GetMusicPlayerState = 1 ? (MeasureRotate % 300)   : MeasureRotate)
MaxValue=300

[MeasureSinAngle]
Measure=Calc
Formula=SIN(MeasureRotate/200*2*PI)

[MeasureNegSinAngle]
Measure=Calc
Formula=-(MeasureSinAngle)

[MeasureCosAngle]
Measure=Calc
Formula=COS(MeasureRotate/200*2*PI)

[MeasureTXCover]
Measure=Calc
Formula=187-MeasureCosAngle*129-MeasureSinAngle*252

[MeasureTYCover]
Measure=Calc
Formula=204-MeasureNegSinAngle*129-MeasureCosAngle*252  



[DynamicMeter]
Hidden=([GetMusicPlayerState] = 0 ? [AutoHideSkinOption] : 0)
DynamicVariables=1
RightMouseUpAction=[!SkinCustomMenu]

[DynamicMeterExtra]
Hidden=([GetMusicPlayerState] = 0 || #MusicSet# = 1 ? 1 : 0)
DynamicVariables=1


[DynamicMeterTrackInformation]
Hidden=([GetMusicPlayerState] = 0 ? 1 : [TrackInformationVisibility])
DynamicVariables=1


[DynamicMeter2]
Hidden=([GetMusicPlayerState] = 0 ? [AutoHideSkinOption] : 0)
DynamicVariables=1


[DynamicMeter2Extra]
Hidden=([GetMusicPlayerState] = 0 || #MusicSet# = 1 ? 1 : 0)
DynamicVariables=1


[DynamicMeter2TrackInformation]
Hidden=([GetMusicPlayerState] = 0 ? 1 : [TrackInformationVisibility])
DynamicVariables=1


[Background]
 Meter=Shape
 Shape=Rectangle 127,112,150,150,150 | StrokeWidth 0 | FIllCOlor [&MeterialYou:GetToken("OnSecondaryContainer")]
StringAlign=CenterCenter
AntiAlias=1
DynamicVariables=1


[Vinyl]
Meter=Rotator
MeasureName=MeasureRotate
ImageName=#VinylChoose#
X=76
Y=59
OffsetX=167.50
OffsetY=168.50
W=256
H=256
H=([VinylInsideCase:H])
AntiAlias=1
MeterStyle=DynamicMeterExtra

[NothingPlayingIcon]
Meter=String
Text=music_note
FontFace=Material Icons Outlined
FontSize=30
FontColor=[&MeterialYou:GetToken("OnPrimary")]
AntiAlias=1
X=203.5
Y=188
StringAlign=CenterCenter
DynamicVariables=1
Container=CoverContainer


[CoverRotate]
Meter=Image
MeasureName=GetSongCover
MaskImageName=#@#Cover1.png
X=169
Y=46
W=165
H=165
TransformationMatrix=[MeasureCosAngle]; [MeasureSinAngle]; [MeasureNegSinAngle]; [MeasureCosAngle]; [MeasureTYCover]; [MeasureTXCover]
MeterStyle=DynamicMeterExtra
AntiAlias=1



[NextButtonBg]
Meter=Shape
Shape=Rectangle 0, 110, 55, 55, 15 | Fill Color [&MeterialYou:GetToken("Primary")] | StrokeWidth 0
X=121
Y=105
AntiAlias=1
DynamicVariables=1


[PauseButtonBg]
Meter=Shape
Shape=Ellipse 150, 37, 25, 25 | Fill Color [&MeterialYou:GetToken("Tertiary")] | StrokeWidth 0
X=121
Y=105
AntiAlias=1
DynamicVariables=1


[Background2]
Meter=Image
ImageName=#@#playnext.png
ImageTint=[&MeterialYou:GetToken("OnPrimary")]
X=139
Y=231
W=20
H=20
hidden=0
DynamicVariables=1
AntiAlias=1

[NextButton]
Meter=Shape
Shape=Ellipse 25, 137, 25, 25 | Fill Color 200,255,255,0 | StrokeWidth 0
X=121
Y=106
AntiAlias=1
LeftMouseUpAction=[!CommandMeasure mState Next]
DynamicVariables=1

[ControlsPlayPause]
Group=Controls
Meter=String
Text=[mState]
FontFace=Material Icons Outlined
FontSize=20
FontColor=[&MeterialYou:GetToken("OnTertiary")]
AntiAlias=1
X=271
Y=143
DynamicVariables=1
StringAlign=CenterCenter
Hidden=0
LeftMouseUpAction=[!CommandMeasure mState PlayPause]

